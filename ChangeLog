2003-12-05  Albert Chu  <chu11@llnl.gov>

	* src/whatsup.com (cmdline_parse): Fixed declaration bug.

2003-12-03  Albert Chu  <chu11@llnl.gov>

	* Re-worked so types are more explicit

2003-12-01  Albert Chu  <chu11@llnl.gov>

	* src/Nodeupdown/Nodeupdown.pm (new): Fixed typo.
	
2003-11-22  Albert Chu  <chu11@llnl.gov>

	Massive massive changes throughout code, not worth listing
	details.

	* Removed dependence upon libganglia library.

	* Added dotconf library and dotconf parsing instead

	* Changed nodeupdown_load_data API to just have a generic void
	  *masterlist and no IP parameter.

	* Allow multiple ips or hostnames for nodeupdown.conf

	* Removed ip option from nodeupdown.conf

	* Added timeout_len and masterlist conf file options

	* Added new README help files.
	
2003-11-13  Albert Chu  <chu11@llnl.gov>

	Renamed "masterlist" mechanism to "hostsfile".

	* man/nodeupdown_masterlist.conf.5.in: Renamed to
	nodeupdown_hostsfile.conf.5.in.

	* README, configure.ac, whatsup.spec.in, src/whatsup/whatsup.c,
	src/libnodeupdown/nodeupdown.c,
	src/libnodeupdown/nodeupdown_common.h,
	src/libnodeupdown/nodeupdown_masterlist.c, man/libnodeupdown.3.in,
	man/nodeupdown_load_data.3.in, man/whatsup.1.in,
	man/nodeupdown_hostsfile.conf.5.in: Renamed everything
	appropriately.

2003-11-13  Albert Chu  <chu11@llnl.gov>

	Added genders mechanism to differentiate between genders and
	gendersllnl libraries.  The old genders mechanism is now
	gendersllnl.

	* src/libnodeupdown/nodeupdown.c,
	src/libnodeupdown/nodeupdown_common.h,
	sc/libnodeupdown/nodeupdown_masterlist.c: Updated globally to
	support new genders vs. gendersllnl mechanisms.

	* src/whatsup.c: Updated globally to support genders
	vs. gendersllnl mechanisms.

	* man/libnodeupdown.3, man/whatsup.1, man/nodeupdown_load_data.3:
	Modified appropriately for new genders vs. gendersllnl mechanisms.

	* configure.ac: Added genders vs. gendersllnl option support.
	Also added --with-nomasterlist option.

	* README: Updated with more info. 

	* whatsup.spec.in: Updated to inclue conditional builds.  Defaults
	to --with-gendersllnl if not mechanism requested.
	
2003-11-10  Albert Chu  <chu11@llnl.gov>

	* src/Nodeupdown/Makefile.am: Fixed typo.

	* src/whatsup/whatsup.c: Added whatsup_list_t type, modifying
	global constants appropriately.

2003-11-08  Albert Chu  <chu11@llnl.gov>

	* src/whatsup/whatsup.c:  Added whatsup_bool_t and whatsup_output_t
	enums.  Used within struct winfo.
	
	* src/whatsup/whatsup.c (initialize_struct_winfo, err_msg):
	Removed these pointless functions, move their functionality into
	the calling functions.

	* src/whatsup/whatsup.c (main, get_nodes, cmdline_parse): Modify
	for use of new types and new constant names WHATSUP_FALSE and
	WHATSUP_TRUE.

	* src/whatsup/whatsup.c (cmdline_parse, check_arg_nodes,
	convert_to_altnames, get_all_nodes, get_nodes, output_nodes,
	main): Re-work with own error output.

	* src/whatsup/whatsup.c (main): Made winfo a local var rather
	than mallocing space.

	* src/whatsup/whatsup.c (main, output_nodes): Moved some common
	code from main to output_nodes.

	* src/libnodeupdown/nodeupdown_masterlist.h,
	src/libnodeupdown/nodeupdown_masterlist.c
	(nodeupdown_masterlist_finish): New function.

	* src/libnodeupdown/nodeupdown_masterlist.h,
	src/libnodeupdown/nodeupdown_masterlist.c
	(nodeupdown_masterlist_compare_gmond_to_masterlist,
	_load_masterlist_data): Move some code into
	nodeupdown_masterlist_finish.

	* man/nodeupdown_masterlist.conf.5.in: New file.

	* man/nodeupdown_load_data.3, man/libnodeupdown.3.in: Modified to
	list new manpage.

	* whatsup.spec.in: Fixed typo.

	* configure.ac: Changed default masterlist file to
	/etc/nodeupdown_masterlist.conf.
	
2003-11-07  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/masterlist.h.in,
	src/libnodeupdown/masterlist.c: Renamed to
	nodeupdown_masterlist.h.in and nodeupdown_masterlist.c.  All
	functions renamed appropriately.

	* src/libnodeupdown/nodeupdown.c: Updated for function name changes.

	* src/libnodeupdown/Makefile.am: Updated for filename changes.

	* configure.ac; Updated for name changes.

	* src/Nodeupdown/Makefile.am, src/Libnodeupdown/Makefile.am: Added
	conditional to ensure cleanup always works.

	* src/libnodeupdown/Makefile.am, src/whatsup/Makefile.am: Added
	dependency checks.

2003-11-07  Albert Chu  <chu11@llnl.gov>

	Created new masterlist.c and masterlist.h.in, to encapsulate
	most of the master list mechanisms from nodeupdown.c.
	
	* src/libnodeupdown/masterlist.h.in,
	src/libnodeupdown/masterlist.c: New files.

	* src/libnodeupdown/nodeupdown.c (nodeupdown_load_data,
	_xml_parse_start, _is_node): Modified to use new masterlist code.

	* src/libnodeupdown/nodeupdown.c (_find_str, _load_genders_data,
	_load_msterlist_data, _compare_gmond_nodes_to_master_list): Moved
	to masterlist.c.

	* src/libnodeupdown/nodeupdown_common.c,
	src/libnodeupdown/nodeupdown_common.h: Common functions for
	nodeupdown and masterlist.
	
	* src/libnodeupdown/Makefile.am: Updated with masterlist.c and
	nodeupdown_common.c

	* src/Libnodeupdown/Makefile.am: Cleaned up makefile.

2003-11-07  Albert Chu  <chu11@llnl.gov>

	* configure.ac, src/libnodeupdown/nodeupdown.c,
	  src/whatsup/whatsup.c, man/libnodeupdown.3,
	  man/nodeupdown_load_data.3, man/whatsup.1: Re-ordered things so
	  the "masterlist" mechanism is the primary mechanism, and genders
	  is secondary.

2003-11-07  Albert Chu  <chu11@llnl.gov>

	Added master file list support
	
	* src/libnodeupdown/nodeupdown.h.in: Added
	NODEUPDOWN_MASTERLIST_DEFAULT configurable constant.

	* src/libnodeupdown/nodeupdown.c (_load_masterlist_data): New function..

	* src/libnodeupdown/nodeupdown.c (_initialize_handle,
	_free_handle_data, nodeupdown_load_data, _xml_parse-start,
	_compare_gmond_nodes_to_master_list, _is_node): Added masterlist
	functionality.

	* src/whatsup/whatsup.c (_cmdline_parse, main): Added masterlist
	functionality.
	
	* src/libcommon/list.h, src/libcommon/list.c: New files.
	
	* man/libnodeupdown.3.in,
	man/libnodeupdown/nodeupdown_load_data.3.in, man/whatsup.1.in:
	Added masterlist info.
	
	* configure.ac: Added support for --with-masterlist option.

	Autoconf Libnodeupdown.pm

	* src/Libnodeupdown/Libnodeupdown.pm: 
	Renamed to Libnodeupdown.pm.in.
	Autoconfed $VERSION.

	* configure.ac: Output Libnodeupdown.pm.in.
	
2003-11-06  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/: New libcommon for common files.

	* src/libnodeupdown/hostlist.h, src/libnodeupdown/hostlist.c,
	src/libnodeupdown/fd.h, src/libnodeupdown/fd.c,
	src/whatsup/hostlist.h, src/whatsup/hostlist.c: Moved into
	/src/libcommon.

	* src/libnodeupdown/Makefile.am, src/whatsup/Makefile.am: Updated
	for use of libcommon.

	* src/libnodeupdown/nodeupdown.c
	(_compare_genders_to_gmond_nodes): Renamed to
	_compare_gmond_nodes_to_master_list.

	* src/Libnodeupdown/Libnodeupdown.pm: Fixed version to match
	config.h version.

2003-11-05  Albert Chu  <chu11@llnl.gov>

	various code/configuration  cleaned up

	* src/whatsup/hostlist.h, src/whatsup/hostlist.c,
	src/libnodeupdown/hostlist.h, src/libnodeupdown/hostlist.c:
	Updated hostlist files.

	* src/libnodeupdown/fd.h, src/libnodeupdown/fd.c: New files.
	
	* src/libnodeupdown/nodeupdown.c (_get_ipaddr): Renamed to
	_get_ip_and_port.

	* src/whatsup/whatsup.c (_readline): Use fd library.

	* src/libnodeupdown/nodeupdown.c (_read_conffile,
	_get_ip_and_port, _connect_to_gmond, _xml_parse_start,
	_get_gmond_data, _is_node, nodeupdown_nodelist_create): Re-written
	to be cleaner.

	* src/libnodeupdown/nodeupdown.c
	(_compare_genders_to_gmond_nodes): Moved genders_getmaxnodelen
	code code from nodeupdown_load_data into here.

	* configure.ac: Replaced --with-xs-prefix and
	--with-nodeupdown-pm-refix with --with-perl-install-prefix.

	* src/Libnodeupdown/Makefile.am, src/Nodeupdown/Makefile.am: Fixed
	for new --with-perl-install-prefix configuration option.

	Code and configuration updated so genders is a build option, rather
	than a build requirement.

	* src/libnodeupdown/nodeupdown.c (_initialize_handle,
	_free_handle_data, _load_genders_data, _xml_parse_start,
	_compare_genders_to_gmond_nodes, nodeupdown_load_data, _is_node):
	Modified to support genders or no master list builds.

	* src/whatsup/whatsup.c (usage, initialize_struct_winfo,
	cmdline_parse, convert_to_altnames, get_nodes, main): Modified to
	support genders or no master list builds.
	
	* src/Libnodeupdown/Libnodeupdown.pm: Minor documentation
	modifications to support non-genders specific builds.

	* src/Libnodeupdown/Libnodeupdown.xs (nodeupdown_load_data): Fixed
	to support non-genders specific code.

	* src/Libnodeupdown/Makefile.PL: Added -DHAVE_CONFIG_H, -UVERSION,
	and -I../../config/ to support new build.
	
	* man/nodeupdown_get_nodes_list.3,
	man/nodeupdown_get_nodes_string.3, man/nodeupdown_is_node.3,
	man/nodeupdown_nodelist.3: Modified to support non-genders
	specific build.

	* man/whatsup.1, man/libnodeupdown.3, man/nodeupdown_load_data.3:
	Renamed to man/whatsup.1.in, man/libnodeupdown.3.in, and
	man/nodeupdown_load_data.3.in respectively.  
	Modified to support varying output types based on configuration.

	* configure.ac: 
	Added --with-genders option.
	Added output of whatsup.1, libnodeupdown.3, nodeupdown_load_data.3

2003-09-27  Albert Chu  <chu11@llnl.gov>

	* src/whatsup/whatsup.c: Code significantly cleaned up.
	
2003-09-24  Albert Chu  <chu11@llnl.gov>

	* src/whatsup/whatsup.c (get_arg_nodes, get_all_nodes, get_nodes):
	New functions, renamed from get_arg_nodes_common,
	get_all_nodes_common, get_nodes_common.

	* src/whatsup/whatsup.c (get_nodes): Added additional count
	parameter, which returns the node count to the caller.

	* src/whatsup/whatsup.c (main): Added support for --count option.

	* src/whatsup.whatsup.c (main): Cleaned up exit and cleanup code.

	* man/whatsup.1: Added info about new whatsup --count option.

2003-09-23  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.c (nodeupdown_up_count,
	nodeupdown_down_count): New functions.

	* src/libnodeupdown/nodeupdown.h.in: Added function prototypes for
	nodeupdown_up_count and nodeupdown_down_count.

	* src/Libnodeupdown/Libnodeupdown.xs (nodeupdown_up_count,
	nodeupdown_down_count): New functions.

	* src/Libnodeupdown/Libnodeupdown.pm: Added nodeupdown_up_count
	and nodeupdown_down_count perldoc information.

	* src/Libnodeupdown/Nodeupdown.pm (up_count, down_count): New
	functions.

	* src/Libnodeupdown/Nodeupdown.pm: Added up_count and down_count
	perldoc information.

	* man/nodeupdown_node_count.3, man/nodeupdown_up_count.3,
	man/nodeupdown_down_count.3:  New manpages.

	* src/Libnodeupdown/Nodeupdown.pm: Made description in BUGS
	clearer.

2003-09-10  Albert Chu  <chu11@llnl.gov>

	Modified build files

	* configure.ac: 
	Added output of whatsup.spec.
	Added call to AC_META.

	* whatsup.spec: Removed file.
	
	* whatsup.spec.in: New file, which replaces whatsup.spec.

	* config/ac_meta.m4: New file.

	* Removed all Makefile.in files and config files that will be
	generated by bootstrap from the repository.

2003-08-18  Albert Chu  <chu11@llnl.gov>

	* src/Nodeupdown: Added Nodeupdown Perl OO API to nodeupdown.

	* man/: Replaced "Release 1.2" with "August 2003" in all manpages. 
	
2003-08-15  Albert Chu  <chu11@llnl.gov>

	* Added src/Libnodeupdown Perl Extensions interface to nodeupdown.

2003-08-14  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.h.in, src/libnodeupdown/nodeupdown.c:
	Added nodeupdown_set_errnum.

2003-08-13  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.h.in: Remove nodeupdown_dump
	prototype, which was removed from nodeupdown.c a long time ago.

2003-08-05  Albert Chu  <chu11@llnl.gov>

	* ChangeLog: Reformated to conform to GNU standards

	* man/whatsup.1: Added information about nodeupdown.conf.

2003-07-24  Albert Chu  <chu11@llnl.gov>
	
	* src/libnodeupdown/nodeupdown.c (nodeupdown_load_data): Slightly
	modified API semantics.  The gmond_port and timeout_len parameters
	now use default values if they are less than or equal to 0,
	instead of if they are 0 or -1.

	Modified nodeupdown configuration file format and options.
	
	* src/libnodeupdown/nodeupdown.c (_read_conffile, _get_ipaddr):
	New Functions.

	* src/libnodeupdown/nodeupdown.c (_connect_gmond): Renamed to
	connect_to_gmond.
	
	* src/libnodeupdown/nodeupdown.c (_connect_to_gmond): Deal with
	differences in configuration file format and options.

	* man/nodeupdown.conf: New File

	* man/nodeupdown_load_data.3: Removed configuration file
	information.  Updated for semantic differences in API.
	
	* Tagged whatsup-1-2-1.
	
2003-07-15  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.c: 
	Rewritten with different code style.

	Added support for nodeupdown configuration file.
	
	* src/libnodeupdown/nodeupdown.c (_readline, _connect_gmond): New
	Functions.
	
	* src/libnodeupdown/nodeupdown.c (nodeupdown_load_data): Separate
	retrieval of gmond data into two functions, _connect_gmond and
	_get_gmond_data.

	* src/libnodeupdown/nodeupdown.c (_get_gmond_data): Moved gmond
	server connection into _connect_gmond.

	* man/nodeupdown_load_data.3: Added nodeupdown.conf information.

	* src/libnodeupdown/nodeupdown.h.in: New File.

	* src/libnodeupdown/nodeupdown.h: 
	Added NODEUPDOWN_CONF_FILE.
	Renamed to nodeupdown.h.in.

	* configure.ac: Added option to set NODEUPDOWN_CONF_FILE.
        
	* whatsup.spec: Updated rpm dependencies.

	* Tagged whatsup-1-1-1.
	
2003-05-14  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.h: NODEUPDOWN_ERR_NODE_CONFLICT renamed
	to NODEUPDOWN_ERR_NOTFOUND.

	* src/libnodeupdown/nodeupdown.c (get_genders_nodename): Fixed
	memory leak found by Mark Grondona.  

	* src/libnodeupdown/nodeupdown.c, src/whatsup/whatsup.c: Began
	using gendersllnl library.  

	* src/whatsup/whatsup.c (version): Version output now determined
	by configure.
	
	* configure.ac: Determine project, version, and release number
	from META file.

	* Manpages updated to reflect NODEUPDOWN_ERR_NODE_CONFLICT
	renaming.
	
	* Tagged whatsup-1-0-6.

2003-04-29  Albert Chu  <chu11@llnl.gov>

	* Fixed various typos in manpages.

2003-04-24  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.c, src/whatsup/whatsup.c:
	Significantly cleaned up code.

	* src/libnodeupdown/nodeupdown.h: 
	Added NODEUPDOWN_ERR_NULLHANDLE and NODEUPDOWN_ERR_ERRNUMRANGE.

	* src/libnodeupdown/nodeupdown.c (nodeupdown_create): Renamed to
	nodeupdown_handle_create.

	* src/libnodeupdown/nodeupdown.c (nodeupdown_destroy): Renamed to
	nodeupdown_handle_destroy.

	* Fixed typos in libnodeupdown manpages, NODEUPDOWN_ERR_NOTLOADED
	incorrectly labeled as NODEUPDOWN_ERR_LOAD.

	* src/libnodeupdown/nodeupcown.c, src/libnodeupdown/nodeupdown.h
	(nodeupdown_get_up_nodes_hostlist,
	nodeupdown_get_down_nodes_hostlist,
	nodeupdown_get_up_nodes_string_altnames,
	nodeupdown_get_down_nodes_string_altnames,
	nodeupdown_get_up_nodes_list_altnames,
	nodeupdown_get_down_nodes_list_altnames,
	nodeupdown_get_up_nodes_hostlist_altnames,
	nodeupdown_get_down_nodes_hostlist_altnames,
	nodeupdown_convert_string_to_altnames,
	nodeupdown_convert_list_to_altnames,
	nodeupdown_convert_hostlist_to_altnames): Removed functions.
	
	* Appropriately updated manpages for removed API functions and
	changes to remaining API functions.  

	* Tagged whatsup-1-0-5.
	
2003-04-14  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.h: Added NODEUPDOWN_ERR_NODE_CONFLICT.

	* src/libnodeupdown/nodeupdown.c (nodeupdown_load_data): Added
	input parameter checks.

	* src/libnodeupdown/nodeupdown.h, man/nodeupdown_is.3: Added
	additional comments about nodeupdown_is_node_up and
	nodeupdown_is_node_down in comments and manpages.

	* src/libnodeupdown/nodeupdown.c: Fixed magic numbers error.
	
	* man/whatsup.1: 
	Added comment about shortened hostnames.  
	Added information about which servers whatsup will properly
	operate on.
	Fixed several typos.

	* whatsup.spec: Added proper prefix to configuration so
	libnodeupdown.la is built correctly.
	
	* Tagged whatsup-1-0-4.
	
2003-03-12  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.h, src/libnodeupdown/nodeupdown.c:
	Moved #defines and #includes from nodeupdown.h to nodeupdown.c.

	* src/libnodeupdown/nodeupdown.c: Updated use of genders_testnode
	function to conform to change in genders-1.1-3.
	
	* src/libnodeupdown/nodeupdown.c: Added magic numbers to
	nodeupdown context.

	* src/libnodeupdown/nodeupdown.h: Added NODEUPDOWN_ERR_NULLPTR
	error code.

	* src/libnodeupdown/nodeupdown.c: Added checks for null pointers 
	in lists.
	
	* src/libnodeupdown/nodeupdown.c
	(nodeupdown_get_hostlist_alternate_names): Renamed to
	nodeupdown_convert_hostlist_to_altnames.

	* src/libnodeupdown/nodeupdown.c
	(nodeupdown_get_list_alternate_names): Renamed to
	nodeupdown_convert_list_to_altnames.

	* src/libnodeupdown/nodeupdown.c
	(nodeupdown_convert_list_to_altnames): Added length parameter.
	
	* src/libnodeupdown/nodeupdown.h, src/libnodeupdown/nodeupdown.c
	(nodeupdown_get_up_nodes_hostlist_altnames,
	nodeupdown_get_down_nodes_hostlist_altnames,
	nodeupdown_get_up_nodes_string, nodeupdown_get_down_nodes_string,
	nodeupdown_get_up_nodes_string_altnames,
	nodeupdown_get_down_nodes_string_altnames,
	nodeupdown_get_up_nodes_list_altnames,
	nodeupdown_get_down_nodes_list_altnames,
	nodeupdown_convert_string_to_altnames): New Functions.

	* src/libnodeupdown/nodeupdown.h, src/libnodeupdown/nodeupdown.c
	(nodeupdown_get_up_nodes_hostlist,
	nodeupdown_get_down_nodes_hostlist,
	nodeupdown_convert_hostlist_to_altnames,
	nodeupdown_get_up_nodes_hostlist_altnames,
	nodeupdown_get_down_nodes_hostlist_altnames): Wrapped functions
	around NODEUPDOWN_HOSTLIST_API definition.

	* src/libnodeupdown/nodeupdown.c (nodeupdown_retrieve_gmond_data):
	Force smaller connection timeout.
	
	* src/whatsup/whatsup.c: Updated for various changes in nodeupdown API.

	* src/whatsup/whatsup.c: Added -V option.

	* src/whatsup/whatsup.c: Added error check for non-shortened
	hostnames passed in by user.

	* Updated all manpages appropriately for changes.

	* Tagged whatsup-1-0-3.

2003-03-07  Albert Chu  <chu11@llnl.gov>

	* src/libnodeupdown/nodeupdown.c: Rearranged order in which input
	parameters were checked, thus affecting the type of error code
	returned given multiple bad input parameters.

	* src/libnodeupdown/nodeupdown.h, src/libnodeupdown/nodeupdown.c:
	Added nodeupdown_errormsg.

	* Added manpages for libnodeupdown library.

	* Tagged whatsup-1-0-2.

2003-02-24  Albert Chu  <chu11@llnl.gov>
	
	* Initial Release

	* Tagged whatsup-1-0-1.
